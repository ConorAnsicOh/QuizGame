<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="GuestDao">
	
	<!-- <resultMap type="GuestVO" id="GuestVOMAP">
  		<id column="ID" property="id"/>
  		<result column="TITLE" property="title"/>
  		<result column="BODY" property="body"/>
  		<result column="USER_ID" property="userId"/>
  		<result column="WRITE_DATE" property="writeDate"/>
  		<result column="VIEW_COUNT" property="viewCount"/>
  		<result column="RECOMMEND_COUNT" property="recommendCount"/>
  		<result column="REQUEST_IP" property="requestIp"/>
  		<result column="DISPLAY_FILE_NAME" property="displayFilename"/>
  	
  		결과를 다른 값에 할당함. 
  		<association property="guestVO" javaType="GuestVO">
  			<id column="G_ID" property="id"/>
  			<result column="EMAIL" property="email"/>
  			<result column="NICKNAME" property="nickname"/>
  			<result column="REGIST_DATE" property="registDate"/>
  		</association>
  	</resultMap> -->

	<insert id="insertGuest" parameterType="GuestVO">
  		INSERT	INTO	GUEST	(
  			ID
  			, USER_ID
  			, PASSWORD
  			, NICKNAME
  			, EMAIL
			, REGIST_DATE
  		)
  		VALUES	(
  			GUEST_ID_SEQ.NEXTVAL
  			, #{userId}
  			, #{password}
  			, #{nickname}
  			, #{email}
  			, SYSDATE
  		)
  		
  	</insert>
  		<!-- VALUES의 규칙은 VO의 멤버 변수를 #{}넣어 적어준다. -->
	

	<!-- id = 인터페이스에 있는 Method의 이름. -->
	<select id="selectGuest"	resultType="GuestVOMap"	parameterType="GuestVO">
		SELECT	ID
  				, USER_ID
  				, PASSWORD
  				, NICKNAME
  				, EMAIL
				, REGIST_DATE
		FROM	GUEST
		ORDER BY ID ASC
	</select>

</mapper>